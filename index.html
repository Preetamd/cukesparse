<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Cukesparse by jonathanchrisp</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Cukesparse</h1>
          <h2>A simple command line parser to pass arguments into Cucumber</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/jonathanchrisp/cukesparse/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/jonathanchrisp/cukesparse/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/jonathanchrisp/cukesparse" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <p><a href="https://travis-ci.org/jonathanchrisp/cukesparse"><img src="https://travis-ci.org/jonathanchrisp/cukesparse.png?branch=master" alt="Build Status"></a>
<a href="https://gemnasium.com/jonathanchrisp/cukesparse"><img src="https://gemnasium.com/jonathanchrisp/cukesparse.png" alt="Dependency Status"></a>
<a href="https://coveralls.io/r/jonathanchrisp/cukesparse"><img src="https://coveralls.io/repos/jonathanchrisp/cukesparse/badge.png?branch=master" alt="Coverage Status"></a></p>

<h2>
<a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting Started</h2>

<p>Cukesparse parses command line arguments and sets default arguments from the config/task.yml file. For example please see the full list of options within the example config below:</p>

<pre><code>test_task:
 feature_order: ['features/featureOne', 'features/featureTwo', 'features/featureThree']

 # These cucumber defaults will be set if not passed in from cli
 cucumber_defaults:
  format: 'pretty'
  name: ['feature1', 'feature2']
  tags: ['tags1', 'tags2']
  strict: true
  verbose: true
  dry_run: true
  guess: true
  expand: true

 # These runtime defaults will be set if not passed in from cli
 runtime_defaults:
  environment: 'release'
  log_level: 'debug'
  cleanup: true
  database: true
  jenkins: true
  retries: 5
  timeout: 60
  screen: 1280/1024
  screenwidth: 1280
  screenheight: 1024
  position: 0/0
  xposition: 0
  yposition: 0
  highlight: true

 # Will always be added to end of of the system command
 defaults: ['--format html', '--out report.html', '-P -s']
</code></pre>

<p>You can have many highlevel tasks defined within your config/tasks.yml file. In the above example we only have the task <code>test_task</code>. Please note that the screen and position config options will set screenwidth/screenheight or xposition/yposition parameters. You should use screen/position or define the individual options only within the config file!</p>

<h2>
<a name="lets-get-it-running" class="anchor" href="#lets-get-it-running"><span class="octicon octicon-link"></span></a>Lets get it running!</h2>

<p>Lets say we have the following simple config file options defined:</p>

<pre><code>test_task:
 feature_order: ['features/featureOne', 'features/featureTwo', 'features/featureThree']
 cucumber_defaults:
  format: 'pretty'
 runtime_defaults:
  environment: 'release'
  log_level: 'debug'
 defaults: ['--format html', '--out coverage/report.html', '-P -s']
</code></pre>

<p>If you were to run the following command <code>cukesparse test_task -t test</code> cukesparse would be passed the following arguments:</p>

<pre><code>  ["test_task", "-t", "test"]
</code></pre>

<p>Cukesparse would then collate and produce the following parameters hash:</p>

<pre><code>{:tags=&gt;["--tags test"], :format=&gt;"--format pretty", :environment=&gt;"ENVIRONMENT=release", :log_level=&gt;"LOG_LEVEL=debug"}
</code></pre>

<p>As no <code>environment</code>, <code>log_level</code> arguments were passed the runtime defaults from the config/tasks.yml are used. The following command line output would be produced and run:</p>

<pre><code>bundle exec cucumber --require features/ features/featureOne features/featureTwo features/featureThree --tags test
ENVIRONMENT=release LOG_LEVEL=debug FORMAT=pretty --format html --out coverage/report.html -P -s
</code></pre>

<h2>
<a name="see-tasks-from-cli" class="anchor" href="#see-tasks-from-cli"><span class="octicon octicon-link"></span></a>See tasks from CLI</h2>

<p>If you need to view the tasks within config file from the command line just type: <code>cukesparse tasks</code></p>

<h2>
<a name="parameters" class="anchor" href="#parameters"><span class="octicon octicon-link"></span></a>Parameters</h2>

<p>Cukesparse accepts the following command line arguments:</p>

<h3>
<a name="cucumber-options" class="anchor" href="#cucumber-options"><span class="octicon octicon-link"></span></a>Cucumber options</h3>

<pre><code>'-t'                e.g. -t @abc
'-n --name'         e.g. -n Login
'-f --format'       e.g. -f pretty
'-d --dry-run'
'-v --verbose'
'-s --strict'
'-g --guess'
'-x --expand'
</code></pre>

<h3>
<a name="runtime-options" class="anchor" href="#runtime-options"><span class="octicon octicon-link"></span></a>Runtime options</h3>

<p>All arguments below have been setup for a custom project but are useful.</p>

<h3>
<a name="global-options" class="anchor" href="#global-options"><span class="octicon octicon-link"></span></a>Global options</h3>

<pre><code>'-e --environment'  e.g. -e release
'-l --loglevel'     e.g. -l debug
'-c --controller'   e.g. -c chrome
'-h --headless'
</code></pre>

<h3>
<a name="database-options" class="anchor" href="#database-options"><span class="octicon octicon-link"></span></a>Database options</h3>

<pre><code>'--cleanup'
'--no-cleanup'
'--database'
'--jenkins'
</code></pre>

<h3>
<a name="retry-options" class="anchor" href="#retry-options"><span class="octicon octicon-link"></span></a>Retry options</h3>

<pre><code>'--retries'         e.g. --retries 5
'--timeout'         e.g. --timeout 60
</code></pre>

<h3>
<a name="driver-options" class="anchor" href="#driver-options"><span class="octicon octicon-link"></span></a>Driver Options</h3>

<pre><code>'--screen'          e.g. --screen 1024/1280
'--position'        e.g. --position 0/0
'--screenwidth'     e.g. --screenwidth 1024
'--screenheight'    e.g. --screenheight 1280
'--xposition'       e.g. --xposition 0
'--yposition'       e.g. --yposition 0
'-H --highlight'
</code></pre>

<h3>
<a name="debug" class="anchor" href="#debug"><span class="octicon octicon-link"></span></a>Debug</h3>

<p>The command line option below parses the arguments and displays the original arguments that were passed, the parameters created and the command line that would be passed to system.
When the <code>--debug</code> argument is passed it only outputs what would have been produced and isn't run.</p>

<pre><code>'--debug'
</code></pre>

<p>So for example if you ran the following:</p>

<pre><code>cukesparse test_task -t test --debug
</code></pre>

<p>You would get the following returned in the console:</p>

<pre><code>DEBUG: Outputting ARGV passed
["test_task", "-t", "test", "--debug"]

DEBUG: Outputting parsed config file
{"test_task"=&gt;{"feature_order"=&gt;["features/featureOne", "features/featureTwo", "features/featureThree"], "cucumber_defaults"=&gt;{"format"=&gt;"pretty"}, "runtime_defaults"=&gt;{"environment"=&gt;"release", "log_level"=&gt;"debug"}, "defaults"=&gt;["--format html", "--out coverage/report.html", "-P -s"]}}

DEBUG: Outputting parameters created
{:tags=&gt;["--tags test"], :debug=&gt;"DEBUG=TRUE", :format=&gt;"--format pretty", :environment=&gt;"ENVIRONMENT=release", :log_level=&gt;"LOG_LEVEL=debug"}

DEBUG: Outputting command created
bundle exec cucumber --require features/ features/featureOne features/featureTwo features/featureThree --tags test DEBUG=TRUE --format pretty ENVIRONMENT=release LOG_LEVEL=debug --format html --out coverage/report.html -P -s
</code></pre>

<h2>
<a name="tests" class="anchor" href="#tests"><span class="octicon octicon-link"></span></a>Tests</h2>

<p>There are a number of unit tests which are included as part of this project which are run by rspec. Please run:</p>

<pre><code>  rspec spec/cukesparse_spec.rb
</code></pre>

<h2>
<a name="feedback" class="anchor" href="#feedback"><span class="octicon octicon-link"></span></a>Feedback</h2>

<p>I would be more than happy to recieve feedback, please email me at: <a href="mailto:jonathan.chrisp@gmail.com">jonathan.chrisp@gmail.com</a></p>
        </section>

        <footer>
          Cukesparse is maintained by <a href="https://github.com/jonathanchrisp">jonathanchrisp</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>